server.host: <%= @dashboard_server_host %>
server.port: <%= @dashboard_server_port %>
<% if @dashboard_server_hosts.is_a? Array -%>
opensearch.hosts: [<%= @dashboard_server_hosts.map { |host| "\"#{host}\"" }.join(', ') %>]
<% else -%>
opensearch.hosts: "<%= @dashboard_server_hosts %>"
<% end -%>
opensearch.ssl.verificationMode: certificate
<% if @dashboard_user and @dashboard_password -%>
opensearch.username: <%= @dashboard_user %>
opensearch.password: <%= @dashboard_password %>
<% end -%>
opensearch.requestHeadersWhitelist: ["securitytenant","Authorization"]
opensearch_security.multitenancy.enabled: false
opensearch_security.readonly_mode.roles: ["kibana_read_only"]
<% if @dashboard_server_protocol == 'https' -%>
server.ssl.enabled: true
server.ssl.key: "<%= @dashboard_path_certs %>/dashboard-key.pem"
server.ssl.certificate: "<%= @dashboard_path_certs %>/dashboard.pem"
<% else -%>
server.ssl.enabled: false
<% end -%>
<% if not @use_system_ca -%>
opensearch.ssl.certificateAuthorities: ["<%= @dashboard_path_certs %>/root-ca.pem"]
<% end -%>
uiSettings.overrides.defaultRoute: /app/wazuh
